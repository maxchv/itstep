Введение в SQL
==============

--------------

Что такое SQL?
==============

    `SQL`_ (Structured Query Language — «язык структурированных запросов») — 
    формальный непроцедурный язык программирования,
    применяемый для создания, модификации и управления данными в реляционной б/д,
    управляемой СУБД.

.. _SQL: https://ru.wikipedia.org/wiki/SQL

Краткая история
---------------

В начале 1970-х годов в одной из исследовательских лабораторий компании 
IBM была разработана экспериментальная
реляционная СУБД IBM System R, для которой затем был создан специальный 
язык SEQUEL, позволявший относительно
просто управлять данными в этой СУБД.

Аббревиатура SEQUEL расшифровывалась как **Structured English QUEry Language** —
«структурированный английский язык запросов».

Целью разработки было создание простого непроцедурного языка, которым мог воспользоваться любой пользователь,
даже не имеющий навыков программирования.

--------------

Стандарты
=========

Поскольку к началу 1980-х годов существовало несколько вариантов СУБД от 
разных производителей, причём каждый
из них обладал собственной реализацией языка запросов, было принято 
решение разработать стандарт языка, который
будет гарантировать переносимость ПО с одной СУБД на другую (при условии, 
что они будут поддерживать этот стандарт).

В 1983 году Международная организация по стандартизации (ISO) и 
Американский национальный институт стандартов (ANSI)
приступили к разработке стандарта языка SQL.

===== ========== ===============================================
Год    Название  Изменения
===== ========== ===============================================
1986  SQL-86     Первый вариант стандарта,
                 принятый институтом ANSI и
                 одобренный ISO в 1987 году.

1989  SQL-89     Немного доработанный вариант
                 предыдущего стандарта.

1992  SQL-92     Значительные изменения (ISO 9075);
                 уровень ''Entry Level'' стандарта
                 SQL-92 был принят как стандарт
                 FIPS 127-2.

1999  SQL:1999   Добавлена поддержка регулярных выражений,
                 рекурсивных запросов, поддержка триггеров,
                 базовые процедурные расширения, нескалярные
                 типы данных и некоторые объектно-ориентированные
                 возможности.

2003  SQL:2003   Введены расширения для работы с XML-данными,
                 оконные функции (применяемые для работы с
                 OLAP-базами данных), генераторы
                 последовательностей и основанные на них типы
                 данных.

2006  SQL:2006   Функциональность работы с XML-данными значительно
                 расширена. Появилась возможность совместно
                 использовать в запросах SQL и XQuery.

2008  SQL:2008   Улучшены возможности оконных функций, устранены
                 некоторые неоднозначности стандарта SQL:2003
===== ========== ===============================================

--------------

Назначение SQL
==============

Основное назначение:

- создание в базе данных новой таблицы;
- добавление в таблицу новых записей;
- изменение записей;
- удаление записей;
- выборка записей из одной или нескольких таблиц (в соответствии с заданным условием);
- изменение структур таблиц.

--------------

Категории команд SQL
====================

Основные категории команд языка SQL предназначены для выполнения различных функций:

- DDL (Data Definition Language) позволяет создавать и
  изменять структуру объектов б/д, например, создавать и удалять таблицы.

- DML (Data Manipulation Language) используется для
  манипулирования информацией внутри объектов реляционной б/д

- DQL (Data Query Language) включает одну команду **SELECT**.  
  Эта команда используется для формирования запросов к реляционной б/д.

- DCL (Data Control Language) позволяют управлять доступом к информации,
  находящейся внутри б/д. Как правило, они используются для создания объектов,
  связанных с доступом к данным, а также служат для контроля над 
  распределением привилегий между пользователями.

- команды администрирования данных.

- команды управления транзакциями.

--------------

DDL (работа со структурой базы)
===============================

`Команды DDL`_ подразумевают под собой создание и организацию структуры 
как самой б/д так и ее объектов.
Со строками такая группа операторов `не` работает вовсе.

- CREATE — создание объекта (например таблицы);

- ALTER— изменение объекта (например добавление/изменение полей);

- DROP — удаление объекта;

.. _Команды DDL: http://webadequate.ru/rabota-s-bd-mysql/43-grading_sql_commands.html

.. sourcecode:: sql

    -- Создание таблицы students с полями id, name, group. 
    -- ID — первичный ключ.
    CREATE TABLE students (
        `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
        `name` VARCHAR(255) NOT NULL,
        `group` VARCHAR(255) NULL DEFAULT NULL,
        PRIMARY KEY (`id`)
    );

.. code-block:: sql

    -- Добавление в таблицу students поля "date birth" после поля ID 
    -- с разрешением не заполненных значений.
    ALTER TABLE `students`
        ADD COLUMN `date birth` DATE NULL AFTER `id`;

.. code-block:: sql

    -- Удаление таблицы studets.
    DROP TABLE studets;

--------------


Оператор SELECT
===============

--------------

Выборка с оператором WHERE
==========================

--------------

Сортировка данных
=================

--------------

Многотабличные запросы. Декартовое множество
============================================
